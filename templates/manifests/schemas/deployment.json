{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "additionalProperties": false,
  "description": "A Deployment object",
  "properties": {
    "apiVersion": {
      "enum": [
        "apps/v1"
      ],
      "type": "string"
    },
    "kind": {
      "enum": [
        "Deployment"
      ],
      "type": "string"
    },
    "metadata": {
      "additionalProperties": false,
      "properties": {
        "annotations": {
          "additionalProperties": false,
          "properties": {
            "configmap.reloader.stakater.com/reload": {
              "type": "string"
            },
            "secret.reloader.stakater.com/reload": {
              "type": "string"
            }
          },
          "type": "object"
        },
        "labels": {
          "additionalProperties": false,
          "properties": {
            "app.kubernetes.io/class": {
              "type": "string"
            },
            "app.kubernetes.io/component": {
              "type": "string"
            },
            "app.kubernetes.io/instance": {
              "type": "string"
            },
            "app.kubernetes.io/name": {
              "type": "string"
            },
            "app.kubernetes.io/service": {
              "type": "string"
            }
          },
          "required": [
            "app.kubernetes.io/class",
            "app.kubernetes.io/component",
            "app.kubernetes.io/instance",
            "app.kubernetes.io/name"
          ],
          "type": "object"
        },
        "name": {
          "type": "string"
        },
        "namespace": {
          "type": "string"
        }
      },
      "required": [
        "labels",
        "name",
        "namespace"
      ],
      "type": "object"
    },
    "spec": {
      "additionalProperties": false,
      "properties": {
        "replicas": {
          "enum": [
            0,
            1
          ],
          "type": "integer"
        },
        "selector": {
          "additionalProperties": false,
          "properties": {
            "matchLabels": {
              "additionalProperties": false,
              "properties": {
                "app.kubernetes.io/class": {
                  "type": "string"
                },
                "app.kubernetes.io/component": {
                  "type": "string"
                },
                "app.kubernetes.io/instance": {
                  "type": "string"
                },
                "app.kubernetes.io/name": {
                  "type": "string"
                },
                "app.kubernetes.io/service": {
                  "type": "string"
                }
              },
              "required": [
                "app.kubernetes.io/class",
                "app.kubernetes.io/component",
                "app.kubernetes.io/instance",
                "app.kubernetes.io/name"
              ],
              "type": "object"
            }
          },
          "required": [
            "matchLabels"
          ],
          "type": "object"
        },
        "strategy": {
          "oneOf": [
            {
              "additionalProperties": false,
              "properties": {
                "type": {
                  "enum": [
                    "Recreate"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "type"
              ],
              "type": "object"
            },
            {
              "additionalProperties": false,
              "properties": {
                "rollingUpdate": {
                  "additionalProperties": false,
                  "properties": {
                    "maxSurge": {
                      "enum": [
                        "25%"
                      ],
                      "type": "string"
                    },
                    "maxUnavailable": {
                      "enum": [
                        "25%"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "maxSurge",
                    "maxUnavailable"
                  ],
                  "type": "object"
                },
                "type": {
                  "enum": [
                    "RollingUpdate"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "type",
                "rollingUpdate"
              ],
              "type": "object"
            }
          ]
        },
        "template": {
          "additionalProperties": false,
          "properties": {
            "metadata": {
              "additionalProperties": false,
              "properties": {
                "annotations": {
                  "additionalProperties": false,
                  "properties": {
                    "kubectl.kubernetes.io/default-container": {
                      "type": "string"
                    },
                    "sidecar-injector.expedia.com/inject": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "kubectl.kubernetes.io/default-container"
                  ],
                  "type": "object"
                },
                "labels": {
                  "additionalProperties": false,
                  "properties": {
                    "app.kubernetes.io/class": {
                      "type": "string"
                    },
                    "app.kubernetes.io/component": {
                      "type": "string"
                    },
                    "app.kubernetes.io/instance": {
                      "type": "string"
                    },
                    "app.kubernetes.io/name": {
                      "type": "string"
                    },
                    "app.kubernetes.io/service": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "app.kubernetes.io/class",
                    "app.kubernetes.io/component",
                    "app.kubernetes.io/instance",
                    "app.kubernetes.io/name"
                  ],
                  "type": "object"
                }
              },
              "required": [
                "annotations",
                "labels"
              ],
              "type": "object"
            },
            "spec": {
              "additionalProperties": false,
              "properties": {
                "containers": {
                  "items": {
                    "additionalProperties": false,
                    "properties": {
                      "args": {
                        "items": {
                          "type": "string"
                        },
                        "type": "array"
                      },
                      "command": {
                        "items": {
                          "type": "string"
                        },
                        "type": "array"
                      },
                      "env": {
                        "items": {
                          "type": "object"
                        },
                        "type": "array"
                      },
                      "envFrom": {
                        "items": {
                          "type": "object"
                        },
                        "type": "array"
                      },
                      "image": {
                        "type": "string"
                      },
                      "imagePullPolicy": {
                        "enum": [
                          "Always",
                          "IfNotPresent"
                        ],
                        "type": "string"
                      },
                      "livenessProbe": {
                        "oneOf": [
                          {
                            "additionalProperties": false,
                            "properties": {
                              "tcpSocket": {
                                "type": "object"
                              }
                            },
                            "required": [
                              "tcpSocket"
                            ],
                            "type": "object"
                          },
                          {
                            "additionalProperties": false,
                            "properties": {
                              "httpGet": {
                                "type": "object"
                              }
                            },
                            "required": [
                              "httpGet"
                            ],
                            "type": "object"
                          },
                          {
                            "additionalProperties": false,
                            "properties": {
                              "exec": {
                                "type": "object"
                              }
                            },
                            "required": [
                              "exec"
                            ],
                            "type": "object"
                          }
                        ]
                      },
                      "name": {
                        "type": "string"
                      },
                      "ports": {
                        "items": {
                          "additionalProperties": false,
                          "properties": {
                            "containerPort": {
                              "type": "integer"
                            },
                            "name": {
                              "type": "string"
                            },
                            "protocol": {
                              "enum": [
                                "UDP"
                              ],
                              "type": "string"
                            }
                          },
                          "required": [
                            "containerPort",
                            "name"
                          ],
                          "type": "object"
                        },
                        "type": "array"
                      },
                      "resources": {
                        "additionalProperties": false,
                        "type": "object"
                      },
                      "securityContext": {
                        "additionalProperties": false,
                        "properties": {
                          "privileged": {
                            "type": "boolean"
                          }
                        },
                        "required": [
                          "privileged"
                        ],
                        "type": "object"
                      },
                      "startupProbe": {
                        "oneOf": [
                          {
                            "additionalProperties": false,
                            "properties": {
                              "failureThreshold": {
                                "enum": [
                                  30
                                ],
                                "type": "integer"
                              },
                              "tcpSocket": {
                                "type": "object"
                              }
                            },
                            "required": [
                              "tcpSocket"
                            ],
                            "type": "object"
                          },
                          {
                            "additionalProperties": false,
                            "properties": {
                              "failureThreshold": {
                                "enum": [
                                  30
                                ],
                                "type": "integer"
                              },
                              "httpGet": {
                                "type": "object"
                              }
                            },
                            "required": [
                              "httpGet"
                            ],
                            "type": "object"
                          },
                          {
                            "additionalProperties": false,
                            "properties": {
                              "failureThreshold": {
                                "enum": [
                                  30
                                ],
                                "type": "integer"
                              },
                              "exec": {
                                "type": "object"
                              }
                            },
                            "required": [
                              "exec"
                            ],
                            "type": "object"
                          }
                        ]
                      },
                      "volumeMounts": {
                        "items": {
                          "type": "object"
                        },
                        "type": "array"
                      }
                    },
                    "required": [
                      "name",
                      "image",
                      "imagePullPolicy",
                      "resources"
                    ],
                    "type": "object"
                  },
                  "minItems": 1,
                  "type": "array"
                },
                "dnsPolicy": {
                  "enum": [
                    "ClusterFirst",
                    "ClusterFirstWithHostNet"
                  ],
                  "type": "string"
                },
                "hostNetwork": {
                  "type": "boolean"
                },
                "imagePullSecrets": {
                  "items": {
                    "additionalProperties": false,
                    "properties": {
                      "name": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "name"
                    ],
                    "type": "object"
                  },
                  "minItems": 1,
                  "type": "array"
                },
                "initContainers": {
                  "items": {
                    "additionalProperties": false,
                    "properties": {
                      "args": {
                        "items": {
                          "type": "string"
                        },
                        "type": "array"
                      },
                      "command": {
                        "items": {
                          "type": "string"
                        },
                        "type": "array"
                      },
                      "env": {
                        "items": {
                          "type": "object"
                        },
                        "type": "array"
                      },
                      "envFrom": {
                        "items": {
                          "type": "object"
                        },
                        "type": "array"
                      },
                      "image": {
                        "type": "string"
                      },
                      "imagePullPolicy": {
                        "enum": [
                          "IfNotPresent"
                        ],
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "resources": {
                        "additionalProperties": false,
                        "type": "object"
                      },
                      "volumeMounts": {
                        "items": {
                          "type": "object"
                        },
                        "type": "array"
                      }
                    },
                    "required": [
                      "name",
                      "image",
                      "imagePullPolicy",
                      "resources"
                    ],
                    "type": "object"
                  },
                  "type": "array"
                },
                "hostname": {
                  "type": "string"
                },
                "nodeSelector": {
                  "oneOf": [
                    {
                      "additionalProperties": false,
                      "properties": {
                        "kubernetes.io/hostname": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "kubernetes.io/hostname"
                      ],
                      "type": "object"
                    }
                  ]
                },
                "serviceAccount": {
                  "type": "string"
                },
                "serviceAccountName": {
                  "type": "string"
                },
                "setHostnameAsFQDN": {
                  "type": "boolean"
                },
                "subdomain" : {
                  "type": "string"
                },
                "tolerations": {
                  "items": {
                    "additionalProperties": false,
                    "properties": {
                      "key": {
                        "type": "string"
                      },
                      "operator": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "key",
                      "operator"
                    ],
                    "type": "object"
                  },
                  "type": "array"
                },
                "volumes": {
                  "type": "array"
                }
              },
              "required": [
                "containers",
                "serviceAccount",
                "serviceAccountName"
              ],
              "type": "object"
            }
          },
          "required": [
            "metadata",
            "spec"
          ],
          "type": "object"
        }
      },
      "required": [
        "replicas",
        "selector",
        "strategy",
        "template"
      ],
      "type": "object"
    }
  },
  "required": [
    "apiVersion",
    "kind",
    "metadata",
    "spec"
  ],
  "title": "Deployment",
  "type": "object"
}
